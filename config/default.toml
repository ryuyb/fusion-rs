environment = "production"

[application]
name = "Fusion"
version = "0.1.0"

[server]
host = "0.0.0.0"
port = 8080
request_timeout_secs = 30
max_request_size_bytes = 10485760  # 10MB
graceful_shutdown_timeout_secs = 30

[database]
max_connections = 10
min_connections = 2
connect_timeout_secs = 15
idle_timeout_secs = 600
max_lifetime_secs = 1800
run_migrations = true
sqlx_logging = false
sqlx_logging_level = "info"

[logging]
level = "info"
console_enabled = true
console_color = true
format = "full"

[logging.file]
path = "log/fusion.log"
create_parent_dirs = true
append = true
format = "json"

[logging.file.rotation]
strategy = "size"
max_size_bytes = 10485760
max_files = 5
compress = true

[jwt]
secret = "change_this_default_secret_change_me"
issuer = "Fusion"
audience = "fusion-clients"
access_token_ttl_secs = 900
refresh_token_ttl_secs = 1209600

[jobs.check-lived]
enabled = true
cron_expr = "0 */1 * * * *"
